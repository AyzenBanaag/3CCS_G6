@model BarangayBayanihanOnline.Models.Donation
@{
    ViewData["Title"] = "Donate";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="max-width: 600px; margin: 3rem auto; padding: 2.5rem; border-radius: 16px; background: linear-gradient(145deg, #ffffff, #f3f3f3); box-shadow: 0 6px 20px rgba(0,0,0,0.1); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    <h2 style="text-align: center; font-size: 2rem; margin-bottom: 1.5rem; color: #333;">Support Our Mission</h2>

    @if (TempData["Message"] != null)
    {
        <div class="alert alert-success">@TempData["Message"]</div>
    }

    <div style="text-align: center; margin-bottom: 2rem;">
        <p style="font-size: 1.1rem; margin-bottom: 0.5rem;">Send your donation via <strong>GCash</strong> to:</p>
        <div style="font-size: 1.6rem; font-weight: 600; color: #0d6efd;">0910 836 1699</div>
        <p style="color: #6c757d; font-size: 0.9rem;">(Account Name: Charles Banias)</p>
        <div style="margin-top: 1rem;">
            <img src="~/images/gcash-qr.png" alt="GCash QR Code" style="max-width: 200px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
            <p style="font-size: 0.85rem; color: #888; margin-top: 0.5rem;">Scan this QR Code to donate instantly</p>
        </div>
    </div>

    <div style="border-top: 1px solid #ddd; margin: 2rem 0;"></div>

    <form asp-action="Donate" method="post">
        <div style="text-align: center;">
            <p style="margin-bottom: 0.5rem;">Choose an amount:</p>
            <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 0.75rem;">
                @foreach (var amount in new[] { 100, 300, 500, 1000 })
                {
                    <button type="button" class="amount-btn" data-amount="@amount" style="padding: 0.6rem 1.2rem; border: 1px solid #0d6efd; background: white; color: #0d6efd; font-weight: 500; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out;">
                        ₱@amount
                    </button>
                }
            </div>
            <p style="margin-top: 1.5rem;">Or enter a custom amount:</p>
            <input asp-for="Amount" id="custom-amount" type="number" step="0.01" class="form-control" style="padding: 0.6rem 1rem; width: 80%; max-width: 300px; border: 1px solid #ccc; border-radius: 8px; margin-top: 0.5rem;" required />
            <span asp-validation-for="Amount" class="text-danger"></span>

            <p style="margin-top: 1.5rem;">Enter your GCash Reference Number:</p>
            <input asp-for="GCashReferenceNumber" id="reference-number" type="text" class="form-control" style="padding: 0.6rem 1rem; width: 80%; max-width: 300px; border: 1px solid #ccc; border-radius: 8px; margin-top: 0.5rem;" required />
            <span asp-validation-for="GCashReferenceNumber" class="text-danger"></span>

            <p style="margin-top: 1.5rem;">Donor Name:</p>
            <input asp-for="DonorName" type="text" class="form-control" style="padding: 0.6rem 1rem; width: 80%; max-width: 300px; border: 1px solid #ccc; border-radius: 8px; margin-top: 0.5rem;" required />
            <span asp-validation-for="DonorName" class="text-danger"></span>
        </div>
        <div style="text-align: center; margin-top: 2.5rem;">
            <button type="submit" id="donatedBtn" style="background: #198754; color: white; padding: 0.8rem 2rem; border: none; border-radius: 10px; font-size: 1rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: background 0.3s;">
                ✅ I Have Donated
            </button>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        const amountButtons = document.querySelectorAll('.amount-btn');
        const customAmountInput = document.getElementById('custom-amount');

        amountButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                amountButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                customAmountInput.value = btn.dataset.amount;
            });
        });

        customAmountInput.addEventListener('input', () => {
            amountButtons.forEach(b => b.classList.remove('active'));
        });
    </script>
}